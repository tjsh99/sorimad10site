<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>소리MAD 10선 - 2024 결과</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">
        <header>
            <h1 class="main-title">
                <a href="index.html">소리MAD 대상</a>
            </h1>

            <nav class="gnb">
                <ul>
                    <li><a href="result_2025.html" class="active">소리MAD 10선</a></li>
                    <li><a href="awards_2025.html">소리MAD 어워즈</a></li>
                    <li><a href="vote.html">투표하기</a></li>
                    <li><a href="article.html">10선 기사 읽기</a></li>
                </ul>
            </nav>
        </header>

        <nav class="sub-gnb">
            <ul>
                <li><a href="result_2025.html" class="sub-active">10선 결과</a></li>
                <li><a href="everyone_2025.html">모두의 10선</a></li>
                <li><a href="comment_2025.html">코멘트</a></li>
            </ul>
        </nav>

        <main class="content-area">

            <div class="year-selector">
                <a href="result_2025.html" class="year-btn">2025</a>
                <a href="result_2024.html" class="year-btn year-active">2024</a>
            </div>

            <div id="legacy-code-area">

                <p>
                    <!DOCTYPE html>
                    <html lang="ko">
                    
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Video Cards</title>
                        <style>
                            body {
                                font-family: Arial, sans-serif;
                                background-color: #fff;
                                /* 배경색을 흰색으로 변경 */
                                margin: 0;
                                padding: 20px;
                            }
                    
                            .container {
                                display: flex;
                                flex-direction: column;
                                gap: 20px;
                            }
                    
                            .section-header {
                                font-size: 24px;
                                font-weight: bold;
                                text-align: left;
                                margin-bottom: 10px;
                            }
                    
                            .video-grid {
                                display: grid;
                                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                                gap: 15px;
                            }
                    
                            .video-card {
                                background-color: #fff;
                                /* 비디오 카드 배경색 */
                                border-radius: 10px;
                                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                                /* 그림자 효과 */
                                transition: transform 0.2s;
                                overflow: hidden;
                            }
                    
                            .video-card:hover {
                                transform: scale(1.05);
                            }
                    
                            .video-card a {
                                text-decoration: none;
                                color: inherit;
                                display: block;
                            }
                    
                            .video-thumbnail {
                                width: 100%;
                                height: auto;
                                display: block;
                            }
                    
                            .video-title {
                                font-size: 14px;
                                font-weight: bold;
                                color: #333;
                                padding: 10px;
                                text-align: center;
                            }
                        </style>
                    </head>
                    
                    <body>
                        <div id="container" class="container"></div>
                        <script>
                            document.addEventListener('DOMContentLoaded', function () {
                                const sheetId = '1GE8EFnKGdQ6v8ISJRu4b6a17wE8Hu3rrzTCDKbdSBQE';
                                const sheetName = '2024'; // 현재 탭 이름 (예: 2024, 2025, 2026 등)
                                const baseUrl = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?`;
                                const query = encodeURIComponent('Select *');
                                const url = `${baseUrl}&sheet=${sheetName}&tq=${query}`;

                                fetch(url)
                                    .then(res => res.text())
                                    .then(rep => {
                                        const data = JSON.parse(rep.substr(47).slice(0, -2));
                                        const container = document.getElementById('container');
                                        const headerRow = data.table.rows[0]; // 1행 (표수)

                                        // 각 열(표수)에 대해 처리
                                        headerRow.c.forEach((header, colIndex) => {
                                            const 표수 = header?.v;
                                            if (!표수) return; // 빈 칸은 건너뜀

                                            // 표수 추가
                                            const sectionHeader = document.createElement('div');
                                            sectionHeader.className = 'section-header';
                                            sectionHeader.textContent = 표수;
                                            container.appendChild(sectionHeader);

                                            // 비디오 카드 그리드 추가
                                            const videoGrid = document.createElement('div');
                                            videoGrid.className = 'video-grid';

                                            // 해당 열의 비디오 카드 생성
                                            for (let rowIndex = 1; rowIndex < data.table.rows.length; rowIndex += 2) {
                                                const videoId = data.table.rows[rowIndex]?.c[colIndex]?.v; // 짝수 행 (영상ID)
                                                const videoTitle = data.table.rows[rowIndex + 1]?.c[colIndex]?.v; // 홀수 행 (영상 제목)
                                                if (videoId && videoTitle) {
                                                    const card = createVideoCard(videoId, videoTitle);
                                                    videoGrid.appendChild(card);
                                                }
                                            }

                                            container.appendChild(videoGrid);
                                        });
                                    });

                                function createVideoCard(videoId, videoTitle) {
                                    const card = document.createElement('div');
                                    card.className = 'video-card';
                                    const link = document.createElement('a');
                                    link.href = `https://youtu.be/${videoId}`;
                                    link.target = '_blank';
                                    const thumbnail = document.createElement('img');
                                    thumbnail.src = `https://img.youtube.com/vi/${videoId}/mqdefault.jpg`;
                                    thumbnail.className = 'video-thumbnail';
                                    const title = document.createElement('div');
                                    title.className = 'video-title';
                                    title.textContent = videoTitle;
                                    link.appendChild(thumbnail);
                                    link.appendChild(title);
                                    card.appendChild(link);
                                    return card;
                                }
                            });
                        </script>
                    </body>
                    
                    </html>
                </p>

            </div>
        </main>
    </div>

</body>

</html>